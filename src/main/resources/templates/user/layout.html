<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:fragment="header">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
          name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <meta
          name="description"
          content="Citytours - Premium site template for city tours agencies, transfers and tickets."
  />
  <meta name="author" content="Ansonika" />
  <title>CITY TOURS - City tours and travel site template by Ansonika</title>

  <!-- Favicons-->
  <link rel="shortcut icon" th:href="@{assets/user/images/favicon.ico}" type="image/x-icon" />
  <link
          rel="apple-touch-icon"
          type="image/x-icon"
          th:href="@{assets/user/images/apple-touch-icon-57x57-precomposed.png}"
  />
  <link
          rel="apple-touch-icon"
          type="image/x-icon"
          sizes="72x72"
          th:href="@{assets/user/images/apple-touch-icon-72x72-precomposed.png}"
  />
  <link
          rel="apple-touch-icon"
          type="image/x-icon"
          sizes="114x114"
          th:href="@{assets/user/images/apple-touch-icon-114x114-precomposed.png}"
  />
  <link
          rel="apple-touch-icon"
          type="image/x-icon"
          sizes="144x144"
          th:href="@{assets/user/images/apple-touch-icon-144x144-precomposed.png}"
  />

  <!-- COMMON CSS -->
  <link th:href="@{assets/user/css/bootstrap.min.css}" rel="stylesheet" />
  <link th:href="@{assets/user/css/style.css}" rel="stylesheet" />
  <link th:href="@{assets/user/css/vendors.css}" rel="stylesheet" />

  <!-- CUSTOM CSS -->
  <link th:href="@{assets/user/css/custom.css}" rel="stylesheet" />
</head>
<body>
<footer class="revealed" th:fragment="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h3>Need help?</h3>
        <a href="tel://004542344599" id="phone">+45 423 445 99</a>
        <a href="mailto:help@citytours.com" id="email_footer"
        >help@citytours.com</a
        >
      </div>
      <div class="col-md-3">
        <h3>About</h3>
        <ul>
          <li><a href="#">About us</a></li>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Login</a></li>
          <li><a href="#">Register</a></li>
          <li><a href="#">Terms and condition</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <h3>Discover</h3>
        <ul>
          <li><a href="#">Community blog</a></li>
          <li><a href="#">Tour guide</a></li>
          <li><a href="#">Wishlist</a></li>
          <li><a href="#">Gallery</a></li>
        </ul>
      </div>
      <div class="col-md-2">
        <h3>Settings</h3>
        <div class="styled-select">
          <select name="lang" id="lang">
            <option value="English" selected>English</option>
            <option value="French">French</option>
            <option value="Spanish">Spanish</option>
            <option value="Russian">Russian</option>
          </select>
        </div>
        <div class="styled-select">
          <select name="currency" id="currency">
            <option value="USD" selected>USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="RUB">RUB</option>
          </select>
        </div>
      </div>
    </div>
    <!-- End row -->
    <div class="row">
      <div class="col-md-12">
        <div id="social_footer">
          <ul>
            <li>
              <a href="#"><i class="icon-facebook"></i></a>
            </li>
            <li>
              <a href="#"><i class="icon-twitter"></i></a>
            </li>
            <li>
              <a href="#"><i class="icon-google"></i></a>
            </li>
            <li>
              <a href="#"><i class="icon-instagram"></i></a>
            </li>
            <li>
              <a href="#"><i class="icon-pinterest"></i></a>
            </li>
            <li>
              <a href="#"><i class="icon-vimeo"></i></a>
            </li>
            <li>
              <a href="#"><i class="icon-youtube-play"></i></a>
            </li>
          </ul>
          <p>© Citytours 2018</p>
        </div>
      </div>
    </div>
    <!-- End row -->
  </div>
  <!-- End container -->
</footer>
<!-- End footer -->

<!-- Search Menu -->
<div class="search-overlay-menu" th:fragment="search-menu">
      <span class="search-overlay-close"
      ><i class="icon_set_1_icon-77"></i
      ></span>
  <form role="search" id="searchform" method="get">
    <input value="" name="q" type="search" placeholder="Search..." />
    <button type="submit"><i class="icon_set_1_icon-78"></i></button>
  </form>
</div>
<!-- End Search Menu -->

<!-- Sign In Popup -->
<div id="sign-in-dialog" class="zoom-anim-dialog mfp-hide">
  <div class="small-dialog-header">
    <h3>Sign In</h3>
  </div>
  <form>
    <div class="sign-in-wrapper">
      <a href="#0" class="social_bt facebook">Login with Facebook</a>
      <a href="#0" class="social_bt google">Login with Google</a>
      <div class="divider"><span>Or</span></div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" class="form-control" name="email" id="email" />
        <i class="icon_mail_alt"></i>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input
                type="password"
                class="form-control"
                name="password"
                id="password"
                value=""
        />
        <i class="icon_lock_alt"></i>
      </div>
      <div class="clearfix add_bottom_15">
        <div class="checkboxes float-left">
          <input id="remember-me" type="checkbox" name="check" />
          <label for="remember-me">Remember Me</label>
        </div>
        <div class="float-right">
          <a id="forgot" href="javascript:void(0);">Forgot Password?</a>
        </div>
      </div>
      <div class="text-center">
        <input type="submit" value="Log In" class="btn_login" />
      </div>
      <div class="text-center">
        Don’t have an account? <a href="javascript:void(0);">Sign up</a>
      </div>
      <div id="forgot_pw">
        <div class="form-group">
          <label>Please confirm login email below</label>
          <input
                  type="email"
                  class="form-control"
                  name="email_forgot"
                  id="email_forgot"
          />
          <i class="icon_mail_alt"></i>
        </div>
        <p>
          You will receive an email containing a link allowing you to reset
          your password to a new preferred one.
        </p>
        <div class="text-center">
          <input type="submit" value="Reset Password" class="btn_1" />
        </div>
      </div>
    </div>
  </form>
  <!--form -->
</div>
<!-- /Sign In Popup -->

<!-- Common scripts -->
<script th:src="@{assets/user/js/jquery-2.2.4.min.js}"></script>
<script th:src="@{assets/user/js/common_scripts_min.js}"></script>
<script th:src="@{assets/user/js/functions.js}"></script>

<!-- Video header scripts -->
<script th:src="@{assets/user/js/modernizr.js}"></script>
<script th:src="@{assets/user/js/video_header.js}"></script>

<!-- index_7  -->
<script>
  $("input.date-pick").datepicker("setDate", "today");
  $("input.time-pick").timepicker({
    minuteStep: 15,
    showInpunts: false,
  });
</script>


<!-- Destination -->
<script th:src="@{assets/user/js/jquery.ddslick.js}"></script>

<script>
  $(document).ready(function () {

    // SLIDER
    let apiUrl = "http://localhost:1337/api/slider/all";

    fetch(apiUrl)
            .then((response) => {
              // Kiểm tra xem yêu cầu có thành công không (status code 200)
              if (!response.ok) {
                throw new Error(
                        `Network response was not ok: ${response.statusText}`
                );
              }
              // Chuyển đổi dữ liệu JSON
              return response.json();
            })
            .then((data) => {
              // Xử lý dữ liệu từ API và thêm vào HTML
              const headerVideoMedia = document.querySelector(".header-video--media");
              if (headerVideoMedia) {
                var count = 0;
                if (Array.isArray(data) && data.length > 0) {
                  data.forEach((item) => {
                    if (item.status && count < 1) {
                      headerVideoMedia.setAttribute("data-teaser-source", "../../static/video/" + item.path);
                      count++;
                    }
                  });

                  HeaderVideo.init({
                    container: $(".header-video"),
                    header: $(".header-video--media"),
                    videoTrigger: $("#video-trigger"),
                    autoPlayVideo: false,
                  });
                } else
                  throw new Error(`Network response was not ok. Status: ${response.status}, ${response.statusText}`);
              } else {
                console.error("Element with class '.typeOfTour' not found in the DOM");
              }
            })
            .catch((error) => {
              // Xử lý lỗi nếu có
              console.error("There was a problem with the fetch operat`ion:", error);
            });

    // DESTINATION
    apiUrl = "http://localhost:1337/api/destination/all";

    fetch(apiUrl)
            .then((response) => {
              // Kiểm tra xem yêu cầu có thành công không (status code 200)
              if (!response.ok) {
                throw new Error(
                        `Network response was not ok: ${response.statusText}`
                );
              }
              // Chuyển đổi dữ liệu JSON
              return response.json();
            })
            .then((data) => {
              // Xử lý dữ liệu từ API và thêm vào HTML
              const destination = document.querySelector(".destination");
              if (destination) {
                if (Array.isArray(data) && data.length > 0) {
                  data.forEach((item) => {
                    const template = `
                  <option
                    value="${item.id}"
                    data-imagesrc="../../static/user/images/icons_search/walking.png">
                    ${item.name}
                  </option>`;
                    if (item.status) {
                      destination.insertAdjacentHTML("beforeend", template);
                    }
                  });
                } else {
                  throw new Error(`Network response was not ok. Status: ${response.status}, ${response.statusText}`);
                }
              } else {
                console.error("Element with class '.destination' not found in the DOM");
              }
            })
            .catch((error) => {
              // Xử lý lỗi nếu có
              console.error("There was a problem with the fetch operation:", error);
            });

    // TYPE OF TOURS
    apiUrl = "http://localhost:1337/api/type-of-tour/all";

    fetch(apiUrl)
            .then((response) => {
              // Kiểm tra xem yêu cầu có thành công không (status code 200)
              if (!response.ok) {
                throw new Error(
                        `Network response was not ok: ${response.statusText}`
                );
              }
              // Chuyển đổi dữ liệu JSON
              return response.json();
            })
            .then((data) => {
              // Xử lý dữ liệu từ API và thêm vào HTML
              const typeOfTour = document.querySelector(".typeOfTour");
              if (typeOfTour) {
                if (Array.isArray(data) && data.length > 0) {
                  data.forEach((item) => {
                    const template = `
                  <option
                    value="${item.id}"
                    data-imagesrc="../../static/user/images/icons_search/all_tours.png">
                    ${item.name}
                  </option>`;
                    if (item.status) {
                      typeOfTour.insertAdjacentHTML("beforeend", template);
                    }
                  });

                  // Kiểm tra xem có thư viện ddslick đã được tải chưa
                  if (typeof $().ddslick === "function") {
                    $("select.ddslick").each(function () {
                      // Kiểm tra xem phần tử có tùy chọn không
                      if ($(this).find("option").length > 0) {
                        $(this).ddslick({
                          showSelectedHTML: true,
                        });
                      } else {
                        console.error("No options found for ddslick");
                      }
                    });
                  } else {
                    console.error("ddslick library is not loaded");
                  }
                } else {
                  throw new Error(`Network response was not ok. Status: ${response.status}, ${response.statusText}`);
                }
              } else {
                console.error("Element with class '.typeOfTour' not found in the DOM");
              }
            })
            .catch((error) => {
              // Xử lý lỗi nếu có
              console.error("There was a problem with the fetch operation:", error);
            });
  });
</script>
</body>
</html>
