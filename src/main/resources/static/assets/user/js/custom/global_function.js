export var unwantedKeywords = ['buồi', 'buoi', 'dau buoi', 'daubuoi', 'caidaubuoi', 'nhucaidaubuoi', 'dau boi', 'bòi', 'dauboi', 'caidauboi', 'đầu bòy', 'đầu bùi', 'dau boy', 'dauboy', 'caidauboy', 'b`', 'cặc', 'cak', 'kak', 'kac', 'cac', 'concak', 'nungcak', 'bucak', 'caiconcac', 'caiconcak', 'cu', 'cặk', 'cak', 'dái', 'giái', 'zái', 'kiu', 'cứt', 'cuccut', 'cutcut', 'cứk', 'cuk', 'cười ỉa', 'cười ẻ', 'đéo', 'đếch', 'đếk', 'dek', 'đết', 'đệt', 'đách', 'dech', 'đ', 'deo', 'd', 'đel', 'đél', 'del', 'dell ngửi', 'dell ngui', 'dell chịu', 'dell chiu', 'dell hiểu', 'dell hieu', 'dellhieukieugi', 'dell nói', 'dell noi', 'dellnoinhieu', 'dell biết', 'dell biet', 'dell nghe', 'dell ăn', 'dell an', 'dell được', 'dell duoc', 'dell làm', 'dell lam', 'dell đi', 'dell di', 'dell chạy', 'dell chay', 'deohieukieugi', 'địt', 'đm', 'dm', 'đmm', 'dmm', 'đmmm', 'dmmm', 'đmmmm', 'dmmmm', 'đmmmmm', 'dmmmmm', 'đcm', 'dcm', 'đcmm', 'dcmm', 'đcmmm', 'dcmmm', 'đcmmmm', 'dcmmmm', 'đệch', 'đệt', 'dit', 'dis', 'diz', 'đjt', 'djt', 'địt mẹ', 'địt mịe', 'địt má', 'địt mía', 'địt ba', 'địt bà', 'địt cha', 'địt con', 'địt bố', 'địt cụ', 'dis me', 'disme', 'dismje', 'dismia', 'dis mia', 'dis mie', 'đis mịa', 'đis mịe', 'ditmemayconcho', 'ditmemay', 'ditmethangoccho', 'ditmeconcho', 'dmconcho', 'dmcs', 'ditmecondi', 'ditmecondicho', 'đụ', 'đụ mẹ', 'đụ mịa', 'đụ mịe', 'đụ má', 'đụ cha', 'đụ bà', 'đú cha', 'đú con mẹ', 'đú má', 'đú mẹ', 'đù cha', 'đù má', 'đù mẹ', 'đù mịe', 'đù mịa', 'đủ cha', 'đủ má', 'đủ mẹ', 'đủ mé', 'đủ mía', 'đủ mịa', 'đủ mịe', 'đủ mie', 'đủ mia', 'đìu', 'đờ mờ', 'đê mờ', 'đờ ma ma', 'đờ mama', 'đê mama', 'đề mama', 'đê ma ma', 'đề ma ma', 'dou', 'doma', 'duoma', 'dou má', 'duo má', 'dou ma', 'đou má', 'đìu má', 'á đù', 'á đìu', 'đậu mẹ', 'đậu má', 'đĩ', 'di~', 'đuỹ', 'điếm', 'cđĩ', 'cdi~', 'đilol', 'điloz', 'đilon', 'diloz', 'dilol', 'dilon', 'condi', 'condi~', 'dime', 'di me', 'dimemay', 'condime', 'condimay', 'condimemay', 'con di cho', 'con di cho', 'condicho', 'bitch', 'biz', 'bít chi', 'con bích', 'con bic', 'con bíc', 'con bít', 'phò', '4`', 'lồn', 'l`', 'loz', 'lìn', 'nulo', 'ml', 'matlon', 'cailon', 'matlol', 'matloz', 'thml', 'thangmatlon', 'thangml', 'đỗn lì', 'tml', 'thml', 'diml', 'dml', 'hãm', 'xàm lol', 'xam lol', 'xạo lol', 'xao lol', 'con lol', 'ăn lol', 'an lol', 'mát lol', 'mat lol', 'cái lol', 'cai lol', 'lòi lol', 'loi lol', 'ham lol', 'củ lol', 'cu lol', 'ngu lol', 'tuổi lol', 'tuoi lol', 'mõm lol', 'mồm lol', 'mom lol', 'như lol', 'nhu lol', 'nứng lol', 'nung lol', 'nug lol', 'nuglol', 'rảnh lol', 'ranh lol', 'đách lol', 'dach lol', 'mu lol', 'banh lol', 'tét lol', 'tet lol', 'vạch lol', 'vach lol', 'cào lol', 'cao lol', 'tung lol', 'mặt lol', 'mát lol', 'mat lol', 'xàm lon', 'xam lon', 'xạo lon', 'xao lon', 'con lon', 'ăn lon', 'an lon', 'mát lon', 'mat lon', 'cái lon', 'cai lon', 'lòi lon', 'loi lon', 'ham lon', 'củ lon', 'cu lon', 'ngu lon', 'tuổi lon', 'tuoi lon', 'mõm lon', 'mồm lon', 'mom lon', 'như lon', 'nhu lon', 'nứng lon', 'nung lon', 'nug lon', 'nuglon', 'rảnh lon', 'ranh lon', 'đách lon', 'dach lon', 'mu lon', 'banh lon', 'tét lon', 'tet lon', 'vạch lon', 'vach lon', 'cào lon', 'cao lon', 'tung lon', 'mặt lon', 'mát lon', 'mat lon', 'cái lờ', 'cl', 'clgt', 'cờ lờ gờ tờ', 'cái lề gì thốn', 'đốn cửa lòng', 'sml', 'sapmatlol', 'sapmatlon', 'sapmatloz', 'sấp mặt', 'sap mat', 'vlon', 'vloz', 'vlol', 'vailon', 'vai lon', 'vai lol', 'vailol', 'nốn lừng', 'vcl', 'vl', 'vleu', 'chịch', 'chich', 'vãi', 'v~', 'đụ', 'nứng', 'nug', 'đút đít', 'chổng mông', 'banh háng', 'xéo háng', 'xhct', 'xephinh', 'la liếm', 'đổ vỏ', 'xoạc', 'xoac', 'chich choac', 'húp sò', 'fuck', 'fck', 'đụ', 'bỏ bú', 'buscu', 'ngu', 'óc chó', 'occho', 'lao cho', 'láo chó', 'bố láo', 'chó má', 'cờ hó', 'sảng', 'thằng chó', 'thang cho', 'thang cho', 'chó điên', 'thằng điên', 'thang dien', 'đồ điên', 'sủa bậy', 'sủa tiếp', 'sủa đi', 'sủa càn', 'mẹ bà', 'mẹ cha mày', 'me cha may', 'mẹ cha anh', 'mẹ cha nhà anh', 'mẹ cha nhà mày', 'me cha nha may', 'mả cha mày', 'mả cha nhà mày', 'ma cha may', 'ma cha nha may', 'mả mẹ', 'mả cha', 'kệ mẹ', 'kệ mịe', 'kệ mịa', 'kệ mje', 'kệ mja', 'ke me', 'ke mie', 'ke mia', 'ke mja', 'ke mje', 'bỏ mẹ', 'bỏ mịa', 'bỏ mịe', 'bỏ mja', 'bỏ mje', 'bo me', 'bo mia', 'bo mie', 'bo mje', 'bo mja', 'chetme', 'chet me', 'chết mẹ', 'chết mịa', 'chết mja', 'chết mịe', 'chết mie', 'chet mia', 'chet mie', 'chet mja', 'chet mje', 'thấy mẹ', 'thấy mịe', 'thấy mịa', 'thay me', 'thay mie', 'thay mia', 'tổ cha', 'bà cha mày', 'cmn', 'cmnl', 'tiên sư nhà mày', 'tiên sư bố', 'tổ sư'];

export function moneyFormat(data, option) {
    return option ? data.toLocaleString('en-US').replace(/,/g, '.') : parseFloat(data.replace(/\./g, '').replace(',', '.'));
}

export function compareDates(dateString1, dateString2) {
    if (dateString1 < dateString2) {
        return -1;
    } else if (dateString1 > dateString2) {
        return 1;
    } else {
        return 0;
    }
}

export function dateFormatConvert(date) {
    var parts = date.split("-");
    var d = parts[0];
    var m = parts[1];
    var y = parts[2];

    var dateObj = new Date(`${y}-${m}-${d}`);

    return dateObj;
}

export function dateFormatConvert1(date) {
    var parts = date.split("-");
    var y = parts[0];
    var m = parts[1];
    var d = parts[2];

    var dateObj = `${d}-${m}-${y}`;

    return dateObj;
}

export function compareDateNow(dateStr) {
    /*Phải chuyển đổi định dạng dd-MM-yyyy sang "MM/dd/yyyy" hoặc "yyyy-MM-dd" để JavaScript có thể hiểu */
    const dateParts = dateStr.split("-");
    const inputDate = new Date(dateParts[2], dateParts[1] - 1, dateParts[0]);

    // Đối tượng Date hiện tại
    const currentDate = new Date();

    // Lấy thông tin về ngày, tháng, năm từ các đối tượng Date
    const inputDay = inputDate.getDate();
    const inputMonth = inputDate.getMonth();
    const inputYear = inputDate.getFullYear();

    const currentDay = currentDate.getDate();
    const currentMonth = currentDate.getMonth();
    const currentYear = currentDate.getFullYear();

    // So sánh ngày tháng năm
    if (inputYear > currentYear) {
        return 1;
    } else if (inputYear < currentYear) {
        return 0;
    } else {
        // Nếu cùng năm, so sánh tháng
        if (inputMonth > currentMonth) {
            return 0;
        } else if (inputMonth < currentMonth) {
            return 0;
        } else {
            // Nếu cùng tháng, so sánh ngày
            if (inputDay > currentDay) {
                return 1;
            } else if (inputDay < currentDay) {
                return 0;
            }
            else
                return -1;
        }
    }
}

export function ddslick(selector) {
    if (typeof $().ddslick === "function") {
        $(`select${selector}.ddslick`).each(function () {
            // Kiểm tra xem phần tử có tùy chọn không
            $(this).ddslick({
                showSelectedHTML: true,
            });
        });
    } else {
        console.error("ddslick library is not loaded");
    }
}

export function changeQuantity(priceForAdult, priceForChildren) {
    try {
        const totalBlock = document.getElementById("total");

        if (!totalBlock) {
            throw new Error(">>> Element with selector '#total' not found in the DOM");
        }
        totalBlock.innerText = moneyFormat(priceForAdult, true);

        const adult = document.getElementById("adults");
        const adultInc = document.querySelector("#adults-numbers-row .inc");
        const adultDec = document.querySelector("#adults-numbers-row .dec");
        const children = document.getElementById("children");
        const childrenInc = document.querySelector("#children-numbers-row .inc");
        const childrenDec = document.querySelector("#children-numbers-row .dec");

        if (!adult || !adultInc || !adultDec || !children || !childrenInc || !childrenDec) {
            throw new Error(`>>> Element with selector '#adults-numbers-row .inc or #adults-numbers-row .dec or #children-numbers-row .inc or #children-numbers-row .dec or #adults or #children' not found in the DOM`);
        }

        const btnStatus = (element, option) => {
            if (option) {
                adultDec.style.pointerEvents = element.value === '0' ? "none" : "";
            } else {
                childrenDec.style.pointerEvents = element.value === '0' ? "none" : "";
            }
        };

        const updateTotal = (quantity, price) => {
            totalBlock.innerText = moneyFormat(parseInt(moneyFormat(totalBlock.innerText, false), 10) + quantity * price, true);
        };

        btnStatus(children, 0);
        adultInc.addEventListener("click", () => {
            updateTotal(1, priceForAdult)
            btnStatus(adult, 1);
        });
        adultDec.addEventListener("click", () => {
            updateTotal(-1, priceForAdult);
            btnStatus(adult, 1);
        });
        childrenInc.addEventListener("click", () => {
            updateTotal(1, priceForChildren)
            btnStatus(children, 0);
        });
        childrenDec.addEventListener("click", () => {
            updateTotal(-1, priceForChildren);
            btnStatus(children, 0);
        });
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export function renderSearchDropList(data, fatherBlock, icon) {
    try {
        var htmls = data.map(item =>
            item.status ?
                `<option
                    value="${item.id}"
                    data-imagesrc="/assets/user/images/icons_search/${icon}">
                    ${item.name}
                </option>`
                : ''
        );
        fatherBlock.insertAdjacentHTML("beforeend", htmls.join(''));
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export function renderDepartureDropList(data, fatherBlock, icon, option) {
    try {
        if (option) {
            var htmls = data.map(item =>
                item.status && compareDateNow(item.departureDay) && item.quantity > 0 ?
                    `<option
                    value="${item.id}"
                    data-imagesrc="/assets/user/images/icons_search/${icon}">
                    ${item.departureDay}
                </option>`
                    : ''
            );
        } else {
            var htmls = data.map(item =>
                `<option
                    value="${item.id}"
                    data-imagesrc="/assets/user/images/icons_search/${icon}">
                    ${item.departureDay}
                </option>`
            );
        }
        fatherBlock.insertAdjacentHTML("beforeend", htmls.join(''));
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export function renderDeparturesDropList(data, fatherBlock, icon) {
    try {
        var htmls = data.map(item =>
            item.status && compareDateNow(item.departureDay) && item.quantity > 0 ?
                `<option
                    value="${item.id}"
                    data-imagesrc="/assets/user/images/icons_search/${icon}">
                    ${item.departureDay}
                </option>`
                : ''
        );
        fatherBlock.insertAdjacentHTML("beforeend", htmls.join(''));
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export async function getReviewScore(apiUrl) {
    try {
        let reviews = await getApi(apiUrl, "NotCallBack");
        if (reviews.length === 0)
            return 0;
        let totalRating = 0;
        let totalQuantity = 0;
        for (let review of reviews) {
            totalRating += review.vote;
            totalQuantity++;
        }
        return Math.floor(totalRating / totalQuantity);
    } catch (error) {
        console.log(">>> Error: " + error.message);
        throw error; // Re-throw the error to be caught later
    }
}

export async function renderRating(apiUrl) {
    try {
        const userReviews = await getApi(apiUrl, "NotCallBack");

        let rating = ``;
        if (userReviews.length === 0) {
            rating = `<i class="icon-smile"></i><i class="icon-smile"></i><i class="icon-smile"></i><i class="icon-smile"></i><i class="icon-smile"></i><small>(0)</small>`;
        } else {
            let score = 0, quantity = 0;
            userReviews.forEach(userReview => {
                score += userReview.vote;
                quantity++;
            });
            score = Math.floor(score / quantity);
            for (let i = 0; i < 5; i++) {
                if (score > 0) {
                    rating += `<i class="icon-smile voted"></i>`;
                    score--;
                } else {
                    rating += `<i class="icon-smile"></i>`;
                }
            }
            rating += `<small>(${quantity})</small>`;
        }
        return rating;
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export async function handleGetData(apiUrl, callBack, fatherBlockSelector) {
    try {
        const fatherBlock = document.querySelector(fatherBlockSelector);
        if (fatherBlock) {
            await getApi(apiUrl, "NotCallBack")
                .then(data => callBack(data.reverse(), fatherBlock))
                .catch(error => { throw new Error(error) });
        } else {
            throw new Error("Element not found in the DOM");
        }
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export async function getApi(apiUrl, callBack) {
    try {
        const response = await fetch(apiUrl);
        if (!response.ok)
            throw new Error(`>>> Response was not ok: ${response.statusText}`);
        const data = await response.json();
        if (typeof callBack === 'function')
            callBack(data);
        else
            return data;
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}

export function alertFunc(icon, color, bg, content) {
    let animatedAlert = document.getElementById("animatedAlert");
    if (animatedAlert) {
        animatedAlert.insertAdjacentHTML("afterbegin", `<div class="animated-alert-item"><i class="${icon}" style="color: ${color}"></i> ${content}</div>`)
        let animatedAlertItem = animatedAlert.firstChild;
        // let animatedAlertItem = document.getElementsByClassName("animated-alert-item");

        animatedAlertItem.setAttribute("style", `background: ${bg}`)
        // Hiển thị thông báo
        animatedAlertItem.classList.add("show");
        animatedAlertItem.style.animation = "fadeIn 1s ease";

        // Đặt thời gian để di chuyển và biến mất sau 3 giây
        setTimeout(function () {
            animatedAlertItem.classList.remove("show");
            animatedAlertItem.style.animation = "slideOut 1s ease";

            // // Đặt thời gian để ẩn thông báo sau khi kết thúc animation
            setTimeout(function () {
                animatedAlertItem.style.animation = "";
                animatedAlertItem.parentNode.removeChild(animatedAlertItem);
            }, 2000);
        }, 3000);
    }
}

export async function getDropList(apiUrl, callBack, fatherBlockSelector, icon) {
    try {
        const fatherBlock = document.querySelector(fatherBlockSelector);
        if (fatherBlock) {
            const data = await getApi(apiUrl, "NotCallBack");
            callBack(data, fatherBlock, icon);

            ddslick(fatherBlockSelector);
        } else
            throw new Error(`Element with id ${fatherBlockSelector} not found in the DOM`);
    } catch (error) {
        console.log(">>> Error: " + error.message);
    }
}
